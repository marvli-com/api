
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Public REST API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-0a7c4629.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-c427a123.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch-c275c2f6.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl examples&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-8a9c052f.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl examples">curl examples</a>
        </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#public-rest-api" class="toc-h1 toc-link" data-title="Public REST API">Public REST API</a>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
          </li>
          <li>
            <a href="#delivery-protocol" class="toc-h1 toc-link" data-title="Delivery protocol">Delivery protocol</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#purchases" class="toc-h1 toc-link" data-title="Purchases">Purchases</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#purchases-create-a-purchase-the-main-request-for-any-e-commerce-integration" class="toc-h2 toc-link" data-title="/purchases/ Create a Purchase. The main request for any e-commerce integration.">/purchases/ Create a Purchase. The main request for any e-commerce integration.</a>
                  </li>
                  <li>
                    <a href="#request-body" class="toc-h2 toc-link" data-title="Request body">Request body</a>
                  </li>
                  <li>
                    <a href="#responses" class="toc-h2 toc-link" data-title="Responses">Responses</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://merch.transcoin.me'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='public-rest-api'>Public REST API</h1>
<p>All the endpoints below have a prefix of https://cabinet.marvli.com/api/market/v1/ ( e.g. https://cabinet.marvli.com/api/market/v1/new_payment)</p>

<p>You will need your API secret key that you can obtain in API section of your company profile. Use it as a bearer token 
in <code>Authorization</code> header included with every request: <code>Authorization:</code> <code>Bearer &lt;secret key&gt;</code></p>
<h1 id='webhooks'>Webhooks</h1>
<p>For creating and modifying webhooks see the Webhook <a href='https://github.com/slatedocs/slate'>CRUD API specification.</a>CRUD API specification.</p>

<p>Webhook callback payloads of each individual Webhook are signed using a dedicated key pair. The public key can be retrieved from Webhook.public_key. 
See Authentication below for more details.</p>
<h1 id='delivery-protocol'>Delivery protocol</h1>
<p>In case a callback is not successfully delivered (received by the target server and responded to with a 200 series HTTP response code) further 
attempts will be made to deliver the callback, up to a total of 8 attempts, at exponentially increasing intervals between attempts. If the callback
 is not successfully delivered 36 hours after triggering, no further delivery attempts will be made.</p>

<p>Please note that due to the asynchronous nature of network requests it is possible for a callback delivery confirmation (HTTP response with a 200 series
 status code) to not properly arrive from the callback&#39;s target server. Therefore it is possible in case of severe network faults for the target server
 to receive a callback, respond to it with a 200 series HTTP status code and then receive the same callback after an interval.</p>

<p>Callback deliveries are guaranteed to be sequential in relation to events triggered on their source objects. For example, if webhooks have been registered
 for both the purchase.created and purchase.paid events, no purchase.paid callbacks for this Purchase will be delivered until all purchase.created 
 callbacks for this Purchase have been successfully delivered.</p>
<h1 id='authentication'>Authentication</h1>
<p>To guarantee the authenticity of delivered callbacks payloads are signed using asymmetric A.K.A. public-key cryptography. Each callback delivery 
request includes an X-Signature header field. This field contains a base64-encoded RSA PKCS#1 v1.5 signature of the SHA3-256 digest of the 
request body buffer.</p>

<p>The public key for authenticating a Webhooks is available on Webhook.public_key of the corresponding Webhook.
The public key for authenticating success callbacks can be retrieved with GET /public_key/.
Please note the Gateway provider is not responsible for any financial loses incurred due to not implementing payload signature verification.</p>
<h1 id='purchases'>Purchases</h1><h2 id='purchases-create-a-purchase-the-main-request-for-any-e-commerce-integration'>/purchases/ Create a Purchase. The main request for any e-commerce integration.</h2>
<p>To run payments in your application use POST /purchases/, request to register payments and receive the checkout link (checkout_url). 
After the payment is processed, gateway will redirect the client back to your website (take note of success_redirect, failure_redirect).</p>

<p>You have three options to check payment status: 1) use success_calback parameter of Purchase object; 2) use GET /purchases/<purchase_id>/ request; 3)
 set up a Webhook using the UI or Webhook API to listen to purchase.paid or purchase.payment_failure event on your server.</p>

<p>Using skip_capture flag allows you to separate the authentication and payment execution steps, allowing you to reserve funds on payer’s card 
account for some time. This flag can also enable preauthorization capability, allowing you to save the card without a financial transaction, if available.</p>

<p>In case making a purchase client agrees to store his card for the upcoming purchases, next time he will be able to pay in a single click.</p>

<p>Instead of a redirect you can also utilize Direct Post checkout: you can create an HTML <code>&lt;form&gt;</code> on your website with method=&quot;POST&quot; and action 
pointing to direct_post_url of a created Purchase. You will also need to saturate form with <code>&lt;input&gt;</code>-s for card data fields. As a result, when
 a payer submits their card data, it will be posted straight to our system, allowing you to customize the checkout as you wish while your PCI 
 DSS requirement is only raised to SAQ A-EP, as your system doesn&#39;t receive or process card data. For more details, see the documentation on 
 Purchase&#39;s direct_post_url field.</p>

<p>To pay for test Purchases, use 4444 3333 2222 1111 as the card number, 123 as CVC, any date/month greater than now as expiry and any (Latin)
 cardholder name. Any other card number/CVC/expiry not greater or equal than the current month will all fail a test payment.</p>

<p>Method has no parameters</p>
<h2 id='request-body'>Request body</h2>
<blockquote>
<p>Request body</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">curl</span> <span class="o">--</span><span class="nx">location</span> <span class="o">--</span><span class="nx">request</span> <span class="nx">POST</span> <span class="dl">'</span><span class="s1">https://cabinet.marvli.com/api/market/v1/new_payment</span><span class="dl">'</span> <span class="o">\</span>
<span class="o">--</span><span class="nx">header</span> <span class="dl">'</span><span class="s1">Authorization: Bearer 1_12cb0ab9695a4f09fd74d61c659d3c87</span><span class="dl">'</span> <span class="o">\</span>
<span class="o">--</span><span class="nx">header</span> <span class="dl">'</span><span class="s1">Content-Type: application/json</span><span class="dl">'</span> <span class="o">\</span>
<span class="o">--</span><span class="nx">data</span><span class="o">-</span><span class="nx">raw</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">client</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">&lt;client email&gt;</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">full_name</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">personal_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">legal_name</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">brand_name</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">registration_number</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">tax_number</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">bank_account</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">bank_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">street_address</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">city</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">zip_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_street_address</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_city</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_zip_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_country</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">cc</span><span class="dl">"</span><span class="p">:[],</span>
    <span class="dl">"</span><span class="s2">bcc</span><span class="dl">"</span><span class="p">:[]</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">:</span>   <span class="p">{</span>
    <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EUR</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">products</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1.0000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">discount</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">tax_percent</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">language</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">en</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">notes</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">debt</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">subtotal_override</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total_tax_override</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total_discount_override</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total_override</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">request_client_details</span><span class="dl">"</span><span class="p">:[],</span>
    <span class="dl">"</span><span class="s2">timezone</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Europe/Riga</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">due_strict</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">email_message</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_options</span><span class="dl">"</span><span class="p">:[]</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">send_receipt</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">skip_capture</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">reference</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">due</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597737053</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">payment_method_whitelist</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success_redirect</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">&lt;your success url&gt;</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">failure_redirect</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">&lt;your failture url&gt;</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">cancel_redirect</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success_callback</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">creator_agent</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">platform</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">api</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">market_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
</blockquote>

<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>client*</td>
<td>object</td>
<td>Object with Client data (required)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>purchase*</td>
<td>object</td>
<td>Object with Purchase data (required)</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>send_receipt</td>
<td>bool</td>
<td>Whether to send receipt email for this Purchase when it&#39;s paid.</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>skip_capture</td>
<td>float</td>
<td>Card payment-specific: if set to true, only authorize the payment (place funds on hold) when payer enters his card data and pays. This option requires a POST /capture/ or POST /release/ later on.</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>reference</td>
<td>string</td>
<td>Invoice reference.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>due</td>
<td>int</td>
<td>When the payment is due for this Purchase. The default behaviour is to still allow payment once this moment passes. To change that, set purchase.due_strict to true.</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>payment_method_whitelist</td>
<td>object</td>
<td>An optional whitelist of payment methods</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>success_redirect</td>
<td>string</td>
<td>When Purchase is paid for successfully, your customer will be taken to this link. Otherwise a standard screen will be displayed. (maxLength: 500)</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>failure_redirect</td>
<td>string</td>
<td>If there&#39;s a payment failure for this Purchase, your customer will be taken to this link. Otherwise a standard screen will be displayed. (maxLength: 500)</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>cancel_redirect</td>
<td>string</td>
<td>If you provide this link, customer will have an option to go to it instead of making payment (a button with &#39;Return to seller&#39; text will be displayed). Can&#39;t contain any of the following symbols: &lt;&gt;&#39;&quot;. (maxLength: 500)</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>success_callback</td>
<td>string</td>
<td>When Purchase is paid for successfully, the success_callback URL will receive a POST request with the Purchase object&#39;s data in body. (maxLength: 500)</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>creator_agent</td>
<td>string</td>
<td>Identification of software (e.g. an ecommerce module and version) used to create this purchase, if any. (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>platform</td>
<td>enum</td>
<td>Platform this Purchase was created on. Possible values is [ web, api, ios, android, macos, windows ]</td>
<td></td>
</tr>
<tr>
<td>14</td>
<td>market_id</td>
<td>int</td>
<td>ID of the brand to create this Purchase for. You can copy it down in the API section, see the &quot;specify the ID of the Brand&quot; link in answer to &quot;How to setup payments on website or in mobile app?&quot;.</td>
<td></td>
</tr>
</tbody></table>
<h3 id='client-object-structure'>Client object structure</h3>
<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>email*</td>
<td>string</td>
<td>Email address (required,maxLength: 254)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>phone</td>
<td>string</td>
<td>Phone number in the <country_code> <number> format (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>full_name</td>
<td>string</td>
<td>Name and surname of client (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>personal_code</td>
<td>string</td>
<td>Personal identification code of client (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>legal_name</td>
<td>string</td>
<td>Legal name of company (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>brand_name</td>
<td>string</td>
<td>Company brand name (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>registration_number</td>
<td>string</td>
<td>Registration number of company (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>tax_number</td>
<td>string</td>
<td>Tax payer registration number (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>bank_account</td>
<td>string</td>
<td>Bank account number (e.g. IBAN) (maxLength: 34)</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>bank_code</td>
<td>string</td>
<td>SWIFT/BIC code of the bank (maxLength: 11)</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>street_address</td>
<td>string</td>
<td>Street house number and flat address where applicable (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>city</td>
<td>string</td>
<td>City name (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>zip_code</td>
<td>string</td>
<td>ZIP or postal code (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>14</td>
<td>country</td>
<td>string</td>
<td>Country code in the ISO 3166-1 alpha-2 format (e.g. &#39;GB&#39;) (maxLength: 2)</td>
<td></td>
</tr>
<tr>
<td>15</td>
<td>shipping_street_address</td>
<td>string</td>
<td>Street house number and flat address where applicable (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>16</td>
<td>shipping_city</td>
<td>string</td>
<td>City name (maxLength: 128)</td>
<td></td>
</tr>
<tr>
<td>17</td>
<td>shipping_zip_code</td>
<td>string</td>
<td>ZIP or postal code (maxLength: 32)</td>
<td></td>
</tr>
<tr>
<td>18</td>
<td>shipping_country</td>
<td>string</td>
<td>Country code in the ISO 3166-1 alpha-2 format (e.g. &#39;GB&#39;) (maxLength: 2)</td>
<td></td>
</tr>
<tr>
<td>18</td>
<td>cc</td>
<td>object</td>
<td>Email addresses to receive a carbon copy of all notification emails</td>
<td></td>
</tr>
<tr>
<td>18</td>
<td>bcc</td>
<td>object</td>
<td>Email addresses to receive a blind carbon copy of all notification emails</td>
<td></td>
</tr>
</tbody></table>
<h3 id='purchase-object-structure'>Purchase object structure</h3>
<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>currency</td>
<td>string</td>
<td>Currency code in the ISO 4217 standard (e.g. &#39;EUR&#39;).(maxLength: 3)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>products*</td>
<td>object</td>
<td>Line items of the invoice. In case of a transaction with no invoice sent, specify a single Product forming the cost of transaction.</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>language</td>
<td>string</td>
<td>Language code in the ISO 639-1 format (e.g. &#39;en&#39;,maxLength: 2)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>notes</td>
<td>string</td>
<td>Invoice notes. (maxLength: 1000)</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>debt</td>
<td>int</td>
<td>Will be added/substracted to the invoice total, if present.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>subtotal_override</td>
<td>int</td>
<td>If specified and not null, will override the grand subtotal. This field is visual-only, setting it won&#39;t impact <code>total</code>.</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>total_tax_override</td>
<td>int</td>
<td>If specified and not null, will override the total tax. This field is visual-only, setting it won&#39;t impact <code>total</code>.</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>total_discount_override</td>
<td>int</td>
<td>If specified and not null, will override the total discount. This field is visual-only, setting it won&#39;t impact <code>total</code>.</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>total_override</td>
<td>int</td>
<td>If specified and not null, will override the total (unlike the rest of <code>total_*_override</code> fields). You can use this field or <code>products[].total</code> with a value of 0 to activate preauthorization scenario. See the description of the <code>Purchase.skip_capture</code> field.</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>total</td>
<td>int</td>
<td>Calculated from <code>products</code>. You don&#39;t need to specify it.</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>request_client_details</td>
<td>object</td>
<td>ClientDetails fields to request from the client before the payment. If a value is passed for a field in ClientDetails, it will be automatically removed from this list. [ email, phone, full_name, personal_code, brand_name, legal_name, registration_number, tax_number, country, city, street_address, zip_code, bank_account, bank_code, shipping_country, shipping_city, shipping_street_address, shipping_zip_code ]</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>timezone</td>
<td>string</td>
<td>Timezone to localize invoice-specific timestamps in, e.g. to display a concrete date for a due timestamp on the invoice.</td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>due_strict</td>
<td>bool</td>
<td>Whether to permit payments when Purchase&#39;s due has passed. By default those are permitted (and status will be set to overdue once due moment is passed). If this is set to true, it won&#39;t be possible to pay for an overdue invoice, and when due is passed the Purchase&#39;s status will be set to expired.</td>
<td></td>
</tr>
<tr>
<td>14</td>
<td>email_message</td>
<td>string</td>
<td>An optional message to display to your customer in invoice email, e.g. &quot;Your invoice for June&quot;. (maxLength: 256)</td>
<td></td>
</tr>
</tbody></table>
<h4 id='purchase-products-object-structure'>Purchase Products object structure</h4>
<p>Line items of the invoice. In case of a transaction with no invoice sent, specify a single Product forming the cost of transaction.</p>

<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>name*</td>
<td>string</td>
<td>Product name (maxLength: 256)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>price*</td>
<td>int</td>
<td>You can use this field or total_override with a value of 0 to activate preauthorization scenario. See the description of the Purchase.skip_capture field.</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>quantity</td>
<td>float</td>
<td>Quantity of these products in invoice</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>discount</td>
<td>int</td>
<td>Total discount per this product in invoice</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>tax_percent</td>
<td>float</td>
<td>Percent of tax added to the price of this product</td>
<td></td>
</tr>
</tbody></table>
<h2 id='responses'>Responses</h2>
<p>All fields listed above in the request body will also be included in the response. However, the answer will add additional parameters.
These parameters are read-only, they are described in the table below.</p>
<h3 id='success-response'>Success Response</h3>
<blockquote>
<p>Success Response</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_on</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_on</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">client</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">bank_account</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">bank_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">user@example.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">+44 45643564564</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">full_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">personal_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">street_address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">city</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">zip_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_street_address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_city</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shipping_zip_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">cc</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">user@example.com</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">bcc</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">user@example.com</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">legal_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">brand_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">registration_number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">tax_number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">products</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">discount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">tax_percent</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">total</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">language</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">notes</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">debt</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">subtotal_override</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total_tax_override</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total_discount_override</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">total_override</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">request_client_details</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">timezone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Europe/Oslo</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">due_strict</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">email_message</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">payment</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">is_outgoing</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">payment_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">net_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">fee_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">pending_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">pending_unfreeze_on</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">paid_on</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">remote_paid_on</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">issuer_details</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">website</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">legal_street_address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">legal_country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">legal_city</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">legal_zip_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">bank_accounts</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">bank_account</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">bank_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">legal_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">brand_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">registration_number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">tax_number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">transaction_data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">payment_method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">extra</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">attempts</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">execute</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">successful</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">payment_method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">extra</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">client_ip</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">processing_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">error</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">created</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">status_history</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">created</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">related_object</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">viewed_on</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">company_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">is_test</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">brand_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">billing_template_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">send_receipt</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">is_recurring_token</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">recurring_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3fa85f64-5717-4562-b3fc-2c963f66afa6</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">skip_capture</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">reference_generated</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">reference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">issued</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-04-30</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">due</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619740800</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">refund_availability</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">all</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">refundable_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">currency_conversion</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">original_currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">original_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">exchange_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">payment_method_whitelist</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">success_redirect</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">failure_redirect</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">cancel_redirect</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success_callback</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">creator_agent</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">platform</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">web</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">product</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">purchases</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_from_ip</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">invoice_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">checkout_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">direct_post_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
</blockquote>

<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>type</td>
<td>string</td>
<td>Object type identifier</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>id</td>
<td>string</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>created_on</td>
<td>int</td>
<td>Object creation time</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>updated_on</td>
<td>int</td>
<td>Object last modification time</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>payment</td>
<td>object</td>
<td>Details of an executed transaction. Read-only for Purchases and Payouts. For an unpaid Purchase, this object will be null.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>issuer_details</td>
<td>object</td>
<td>Read-only details of issuer company/brand, persisted for invoice display.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>transaction_data</td>
<td>object</td>
<td>Payment method-specific, read-only transaction data. Will contain information about all the transaction attempts and possible errors, if available.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>status</td>
<td>string</td>
<td>Purchase status. Can have the following values: [ created, sent, viewed, error, cancelled, overdue, expired, blocked, hold, released, preauthorized, paid, cleared, settled, chargeback, refunded ]</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>status_history</td>
<td>object</td>
<td>History of status changes, latest last. Might contain entry about a related object, e.g. status change to refunded will contain a reference to the refund Payment.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>viewed_on</td>
<td>string</td>
<td>Time the payment form or invoice page was first viewed on</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>company_id</td>
<td>string</td>
<td>Uid of cimpany</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>is_test</td>
<td>bool</td>
<td>Indicates this is a test object, created using test API keys or using Billing section of UI while in test mode.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>user_id</td>
<td>string</td>
<td>ID of user who has created this object in the Billing UI, if applicable.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>billing_template_id</td>
<td>string</td>
<td>ID of a BillingTemplate that has spawned this Purchase, if any.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>client_id</td>
<td>string</td>
<td>ID of a Client object used to initialize ClientDetails (.client) of this Purchase. Either this field or specifying .client object is required (you can only specify a value for one of these fields). All ClientDetails fields from the Client will be copied to .client object. Note that editing Client object won&#39;t change the respective fields in already created Purchases.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>is_recurring_token</td>
<td>string</td>
<td>Indicates whether a recurring token (e.g. for card payments - card token) was saved for this Purchase. If this is true, the id of this Purchase can be used as a recurring_token in POST /purchases/{id}/charge/, enabling you to pay for that Purchase using the same method (same card for card payments) that this one was paid with.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>recurring_token</td>
<td>string</td>
<td>ID of a recurring token (Purchase having is_recurring_token == true) that was used to pay this Purchase, if any.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>reference_generated</td>
<td>string</td>
<td>If you don&#39;t provide an invoice reference yourself, this autogenerated value will be used as a reference instead.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>refund_availability</td>
<td>string</td>
<td>Specifies, if the purchase can be refunded fully and partially, only fully, partially or not at all: [ all, full_only, partial_only, none ]</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>refundable_amount</td>
<td>string</td>
<td>Amount available for refunds. Amount of money as the smallest indivisible units of the currency. Examples: 1 cent for EUR and 1 Yen for JPY.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>currency_conversion</td>
<td>object</td>
<td>This object is present when automatic currency conversion has occurred upon creation of the purchase. Purchase&#39;s original currency was changed and its original amount was converted using the exchange rate shown here.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>product</td>
<td>string</td>
<td>Defines which gateway product was used to create this Purchase: [ purchases, billing_invoices, billing_subscriptions, billing_subscriptions_invoice ]</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>created_from_ip</td>
<td>string</td>
<td>IP the Purchase was created from.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>invoice_url</td>
<td>string</td>
<td>URL you will be able to access invoice for this Purchase at, if applicable</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>checkout_url</td>
<td>object</td>
<td>URL you will be able to access the checkout for this Purchase at, if payment for it is possible. When building integrations, redirect the customer to this URL once purchase is created.</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>direct_post_url</td>
<td>string</td>
<td>URL that can be used for Direct Post integration.</td>
<td></td>
</tr>
</tbody></table>
<h4 id='payment-object-structure'>Payment object structure</h4>
<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>is_outgoing</td>
<td>bool</td>
<td>Object type identifier</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>payment_type</td>
<td>string</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>amount</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>currency</td>
<td>string</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>net_amount</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>fee_amount</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>pending_amount</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>pending_unfreeze_on</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>description</td>
<td>string</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>paid_on</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>remote_paid_on</td>
<td>int</td>
<td>Request uid</td>
<td></td>
</tr>
</tbody></table>
<h3 id='error-response'>Error Response</h3>
<blockquote>
<p>Error Response</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">__all__</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">descriptive error message</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">error_code</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
</blockquote>

<table><thead>
<tr>
<th>№</th>
<th>Parameter name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>&quot;<strong>all</strong>&quot;</td>
<td>object</td>
<td>Object whitch stores error data</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>code</td>
<td>int</td>
<td>Error Code</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>message</td>
<td>string</td>
<td>Error message</td>
<td></td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl examples">curl examples</a>
          </div>
      </div>
    </div>
  </body>
</html>
